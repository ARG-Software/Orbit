
<div class="container mx-auto">
  <div class="mb-8">
      <h1 class="text-3xl font-bold">Settings</h1>
      <p class="opacity-60 mt-1">Manage your profile and application preferences.</p>
  </div>

  <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
    <!-- Profile Settings Card -->
    <div class="lg:col-span-2 card bg-base-100 shadow">
      <form class="card-body" (ngSubmit)="saveProfile()">
        <h2 class="card-title border-b border-base-content/10 pb-4">User Profile</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-4">
          <div class="form-control">
            <label for="name" class="label">Full Name</label>
            <input id="name" type="text" [ngModel]="name()" (ngModelChange)="name.set($event)" name="name" class="input input-solid" required>
          </div>
          <div class="form-control">
            <label for="taxNumber" class="label">Tax Number</label>
            <input id="taxNumber" type="text" [ngModel]="taxNumber()" (ngModelChange)="taxNumber.set($event)" name="taxNumber" class="input input-solid">
          </div>
          <div class="md:col-span-2 form-control">
            <label for="address" class="label">Address</label>
            <input id="address" type="text" [ngModel]="address()" (ngModelChange)="address.set($event)" name="address" class="input input-solid">
          </div>
          <div class="md:col-span-2 form-control">
            <label for="logoUrl" class="label">Logo URL</label>
            <div class="flex items-center gap-4">
               <input id="logoUrl" type="text" [ngModel]="logoUrl()" (ngModelChange)="logoUrl.set($event)" name="logoUrl" class="input input-solid flex-grow" placeholder="https://example.com/logo.png">
               @if(logoUrl()){
                <div class="avatar">
                    <div class="w-12 rounded">
                        <img [ngSrc]="logoUrl()" alt="Logo Preview" width="48" height="48">
                    </div>
                </div>
               }
            </div>
          </div>
        </div>
        <div class="card-actions justify-end mt-6">
          <button type="submit" class="btn btn-primary">Save Profile</button>
        </div>
      </form>
    </div>

    <!-- Integrations Card -->
    <div class="lg:col-span-1 space-y-6">
      <div class="card bg-base-100 shadow">
        <div class="card-body">
          <h2 class="card-title border-b border-base-content/10 pb-4">Payments</h2>
          <div class="space-y-4 mt-4">
            <!-- PayPal -->
            <div class="flex items-center justify-between p-3 border border-base-content/10 rounded-lg">
              <div class="flex items-center gap-3">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-blue-600" fill="currentColor" viewBox="0 0 24 24"><path d="M8.332 9.068c.28-.734.72-1.42 1.32-2.032.813-.84 1.833-1.285 3.013-1.285 1.013 0 1.893.33 2.587.955.56.5.88 1.18.92 1.94.04.593-.16 1.14-.54 1.58-.354.407-.84.71-1.42.88l-.214.062c-.28.08-.52.174-.72.282-.2.107-.36.24-.48.39-.147.18-.254.387-.32.614-.067.227-.1.48-.1.747 0 .147.013.287.04.42.027.133.08.26.16.38.107.12.24.22.4.3.16.08.347.12.56.12.387 0 .747-.093 1.08-.28.187-.107.36-.24.52-.4.16-.16.307-.347.44-.56.093-.173.16-.353.2-.54.027-.106.04-.22.04-.34 0-.46-.147-.88-.44-1.254-.427-.52-1.027-.88-1.774-1.066-.48-.12-.867-.26-1.16-.42-.32-.173-.56-.393-.72-.66-.187-.313-.28-.68-.28-1.093 0-.627.227-1.193.68-1.694.587-.653 1.427-1 2.494-1 .827 0 1.58.24 2.22.68.627.44 1.067 1.08 1.28 1.88.107.413.147.827.107 1.227-.053.533-.24 1.013-.534 1.413-.106.147-.226.28-.36.4l-.173.147c-.453.373-.92.68-1.387.906-.187.093-.36.193-.52.3-.213.133-.393.28-.533.44-.133.16-.24.32-.32.493-.053.133-.08.26-.08.387v.026c.213-.013.4-.027.56-.027.973 0 1.827.24 2.534.694.04.026.106.093.186.2l.147.16c.467.547.774 1.2.894 1.94.133.88.013 1.734-.347 2.534-.653 1.453-1.853 2.493-3.48 2.893H9.868c-2.413 0-4.333-.68-5.6-2.013C3.212 16.022 3 14.555 3 12.822c0-1.293.307-2.48.9-3.58.187-.347.4-.667.654-.96z"/></svg>
                <span class="font-semibold">PayPal</span>
              </div>
              <input type="checkbox" class="toggle toggle-primary" [checked]="paypalConnected()" (change)="togglePaypal($any($event.target).checked)" />
            </div>

            <!-- Stripe -->
            <div class="flex items-center justify-between p-3 border border-base-content/10 rounded-lg">
              <div class="flex items-center gap-3">
                 <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-indigo-500" fill="currentColor" viewBox="0 0 24 24"><path d="M19.33,11.29,12.71,2.75a.51.51,0,0,0-.71,0L4.67,11.29a.5.5,0,0,0,0,.7l6.62,8.54a.51.51,0,0,0,.71,0l7.33-8.54A.5.5,0,0,0,19.33,11.29ZM12.35,3.47l5.4,7.31-4,1.42-5.74-5.3Zm-1,15.75-5-7.2,4.6-1.55,5.1,5.25Zm.49-8.4,2.55,2.9,1.1-3.6Zm-1.12-1.3,3.75-3.3-2.6-3.1Z"/></svg>
                 <span class="font-semibold">Stripe</span>
              </div>
               <input type="checkbox" class="toggle toggle-primary" [checked]="stripeConnected()" (change)="toggleStripe($any($event.target).checked)" />
            </div>
          </div>
        </div>
      </div>

      <div class="card bg-base-100 shadow">
        <div class="card-body">
          <h2 class="card-title border-b border-base-content/10 pb-4">Conferencing</h2>
          <div class="space-y-4 mt-4">
            <!-- Google Meet -->
            <div class="flex items-center justify-between p-3 border border-base-content/10 rounded-lg">
              <div class="flex items-center gap-3">
                <div class="w-8 h-8 bg-white rounded flex items-center justify-center border border-base-200">
                  <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/9b/Google_Meet_icon_%282020%29.svg/1200px-Google_Meet_icon_%282020%29.svg.png" alt="Google Meet" class="w-6 h-6">
                </div>
                <span class="font-semibold">Google Meet</span>
              </div>
              <input type="checkbox" class="toggle toggle-primary" [checked]="googleMeetConnected()" (change)="toggleGoogleMeet($any($event.target).checked)" />
            </div>

            <!-- Zoom -->
            <div class="flex items-center justify-between p-3 border border-base-content/10 rounded-lg">
              <div class="flex items-center gap-3">
                <div class="w-8 h-8 bg-blue-500 rounded flex items-center justify-center text-white font-bold text-xs">
                  Z
                </div>
                <span class="font-semibold">Zoom</span>
              </div>
              <input type="checkbox" class="toggle toggle-primary" [checked]="zoomConnected()" (change)="toggleZoom($any($event.target).checked)" />
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Success Toast -->
  @if(showSuccessToast()){
  <div class="toast toast-top toast-center">
    <div class="alert alert-success">
      <svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
      <span>Settings saved successfully.</span>
    </div>
  </div>
  }
</div>
